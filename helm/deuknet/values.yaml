app:
  enabled: true
  image:
    repository: localhost:5000/deuknet-app
    tag: latest
    pullPolicy: IfNotPresent
  # IMPORTANT: Debezium Embedded Engine을 사용하므로 반드시 1개만 실행해야 합니다!
  # 여러 인스턴스를 실행하면 중복 이벤트가 발생합니다.
  # Scale-out이 필요하면 Kafka Connect로 전환하세요.
  replicas: 1
  port: 8080
  service:
    type: NodePort
    port: 8080
    nodePort: 30080
  baseUrl: http://localhost:8080
  oauth:
    google:
      redirectUri: http://localhost:8080/api/auth/oauth/callback/google

postgres:
  image: postgres:15-alpine
  database: app_db
  username: app_user
  password: app_pass
  port: 5432

# Kafka와 Kafka Connect는 제거됨 (Debezium Embedded Engine 사용)

elasticsearch:
  image: docker.elastic.co/elasticsearch/elasticsearch:8.11.0
  port: 9200
  javaOpts: "-Xms512m -Xmx512m"
  resources:
    requests:
      memory: "1Gi"
    limits:
      memory: "2Gi"

# debezium과 elasticsearchSink는 Kafka Connect용이므로 제거됨
# 현재는 Debezium Embedded Engine을 애플리케이션 내부에서 사용

minio:
  image: minio/minio:latest
  rootUser: minioadmin
  rootPassword: minioadmin123
  apiPort: 9000
  apiNodePort: 30901
  consolePort: 9001
  consoleNodePort: 30900
  bucketName: deuknet-files
  externalUrl: http://172.17.0.2:30901  # Minikube 환경의 external URL
