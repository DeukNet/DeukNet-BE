app:
  enabled: true
  image:
    repository: localhost:5000/deuknet-app
    tag: latest
    pullPolicy: IfNotPresent
  # IMPORTANT: Debezium Embedded Engine을 사용하므로 반드시 1개만 실행해야 합니다!
  # 여러 인스턴스를 실행하면 중복 이벤트가 발생합니다.
  # Scale-out이 필요하면 Kafka Connect로 전환하세요.
  replicas: 1
  port: 8080
  service:
    type: NodePort
    port: 8080
    nodePort: 30080
  oauth:
    google:
      redirectUri: http://localhost:8080/api/auth/oauth/callback/google

postgres:
  image: postgres:15-alpine
  database: deuknet
  username: deuknet_user
  password: deuknet_pass
  port: 5432

kafka:
  image: apache/kafka:3.8.1
  port: 9092
  brokerId: 1
  kraftMode: true
  clusterId: "MkU3OEVBNTcwNTJENDM2Qk"

kafkaConnect:
  enabled: false  # Debezium Embedded Engine 사용으로 비활성화
  image: debezium/connect:2.5
  port: 8083
  groupId: 1

elasticsearch:
  image: docker.elastic.co/elasticsearch/elasticsearch:8.11.0
  port: 9200
  javaOpts: "-Xms512m -Xmx512m"

debezium:
  connector:
    name: debezium-postgres-source
    serverName: dbserver1
    slotName: debezium_slot
    tableIncludeList: public.outbox_events

elasticsearchSink:
  connector:
    name: elasticsearch-sink-post-detail
    topics: outbox.events.PostDetail
    indexName: posts-detail
